-- Supabase에 프로젝트 1개 + 태스크 23개 삽입 (문서 업로드용)
-- App의 MOCK_TASKS id(1~23)와 맞추기 위해 id를 명시합니다.
-- 1) projects에 id=1이 있어야 합니다. schema.sql 샘플 삽입이 있으면 보통 id=1.
-- 2) 아래를 SQL Editor에서 실행하세요.

-- project가 없으면 1개 삽입 (id=1)
INSERT INTO projects (id, name, part_no, client, manager, start_date, end_date, status, progress, milestones)
VALUES (
  1,
  'JG 팝업모니터 & REAR COVER ASSY',
  'ACQ30063301',
  '현대자동차',
  '김민수 PM',
  '2025-03-01',
  '2026-12-31',
  'In Progress',
  35,
  '[{"name":"T/OF","date":"2025-07-15","color":"bg-blue-500"},{"name":"P1","date":"2025-11-15","color":"bg-indigo-500"},{"name":"P2","date":"2026-03-15","color":"bg-purple-500"},{"name":"SOP","date":"2026-07-15","color":"bg-slate-700"}]'::jsonb
)
ON CONFLICT (id) DO NOTHING;

-- tasks.id 1~23 명시 (App MOCK_TASKS와 맞춤). projects.id=1이 있어야 함.
INSERT INTO tasks (id, project_id, name, phase, plan_start, plan_end, actual_start, actual_end, status, assignee)
VALUES
(1, 1, '조직도(CFT)', '설계 및 시작검증 단계', '2025-03-01', '2025-03-15', '2025-03-01', '2025-03-15', 'Completed', 'PM'),
(2, 1, '품질목표 및 Q,C,D목표설정', '설계 및 시작검증 단계', '2025-03-01', '2025-03-20', '2025-03-01', '2025-03-20', 'Completed', '품질팀'),
(3, 1, '설계계획 (마스터시트)', '설계 및 시작검증 단계', '2025-03-01', '2025-03-20', '2025-03-01', '2025-03-20', 'Completed', '설계팀'),
(4, 1, '문제점 반영 (과거차 CLAIM)', '설계 및 시작검증 단계', '2025-03-01', '2025-03-31', '2025-03-01', '2025-03-31', 'Completed', '품질팀'),
(5, 1, '시작부품 공급 (제작 및 검증)', '설계 및 시작검증 단계', '2025-03-01', '2026-03-31', '2025-03-01', '2025-11-30', 'In Progress', '개발팀'),
(6, 1, '공정 FMEA', '시작 및 부품제조공정 준비단계 (DV)', '2025-09-01', '2025-11-30', '2025-09-01', '2025-11-15', 'Completed', '생산기술'),
(7, 1, '공정관리계획서', '시작 및 부품제조공정 준비단계 (DV)', '2025-09-01', '2025-11-30', '2025-09-01', '2025-11-15', 'Completed', '생산기술'),
(8, 1, '신뢰성시험 능력검토', '시작 및 부품제조공정 준비단계 (DV)', '2025-10-01', '2025-11-30', '2025-10-01', '2025-11-15', 'Completed', '시험팀'),
(9, 1, '신뢰성시험 계획', '시작 및 부품제조공정 준비단계 (DV)', '2025-07-01', '2025-09-30', '2025-07-15', '2025-10-15', 'Delayed', '시험팀'),
(10, 1, '외주품 개발', '시작 및 부품제조공정 준비단계 (DV)', '2025-07-01', '2025-09-30', '2025-06-15', '2025-09-30', 'Completed', '구매팀'),
(11, 1, '설비/금형/지그/검사구 개발', '시작 및 부품제조공정 준비단계 (DV)', '2025-08-01', '2025-10-31', '2025-08-15', '2025-10-15', 'Completed', '개발팀'),
(12, 1, 'PALLET 개발 (공정/납품)', '시작 및 부품제조공정 준비단계 (DV)', '2025-09-01', '2026-02-28', '2025-10-01', '2026-02-28', 'In Progress', '생산기술'),
(13, 1, '공정 편성, 교육', '시작 및 부품제조공정 준비단계 (DV)', '2025-09-01', '2025-12-15', '2025-09-01', '2025-12-01', 'In Progress', '생산팀'),
(14, 1, '검사 기준서', '시작 및 부품제조공정 준비단계 (DV)', '2025-09-01', '2025-12-15', '2025-09-01', '2025-12-15', 'In Progress', '품질팀'),
(15, 1, '작업 표준서', '시작 및 부품제조공정 준비단계 (DV)', '2025-09-01', '2025-12-15', '2025-09-01', '2025-12-15', 'In Progress', '생산기술'),
(16, 1, 'R&RATE 부품 검사', 'P V 및 M P단계', '2025-10-01', '2025-11-30', '2025-11-01', '2025-11-15', 'Completed', '품질팀'),
(17, 1, '공정 능력 평가', 'P V 및 M P단계', '2025-10-01', '2025-11-30', '2025-10-15', '2025-11-30', 'Completed', '생산기술'),
(18, 1, '공정 감사', 'P V 및 M P단계', '2025-11-01', '2025-12-15', NULL, NULL, 'Pending', '품질보증'),
(19, 1, '신뢰성 시험의뢰', 'P V 및 M P단계', '2025-10-15', '2025-11-15', '2025-11-01', '2025-11-15', 'Completed', '시험팀'),
(20, 1, 'ISIR 승인', 'P V 및 M P단계', '2025-11-01', '2025-11-30', '2025-11-10', '2025-12-10', 'Delayed', '품질보증'),
(21, 1, 'F.P.S.C (양산단가)', 'P V 및 M P단계', '2025-11-01', '2025-11-30', '2025-11-15', '2025-11-20', 'Completed', '영업팀'),
(22, 1, '초도양산품 전수검사 (1개월)', '양산', '2026-09-01', '2026-10-31', NULL, NULL, 'Pending', '품질팀'),
(23, 1, '양산이관', '양산', '2026-10-01', '2026-12-31', NULL, NULL, 'Pending', 'PM')
ON CONFLICT (id) DO NOTHING;
